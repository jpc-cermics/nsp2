% -*- mode: latex -*-
%% Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
%% Copyright (C) 1987-2016 - F. Delebecque
%%
%% This program is free software; you can redistribute it and/or modify
%% it under the terms of the GNU General Public License as published by
%% the Free Software Foundation; either version 2 of the License, or
%% (at your option) any later version.
%%
%% This program is distributed in the hope that it will be useful,
%% but WITHOUT ANY WARRANTY; without even the implied warranty of
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%% GNU General Public License for more details.
%%
%% You should have received a copy of the GNU General Public License
%% along with this program; if not, write to the Free Software
%% Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
%%                                                                                                

\mansection{testm}
\begin{mandesc}
  \short{testm}{ Magic, Frank and Hilbert matrices}\\
  \short{testmatrix}{ Magic, Frank and Hilbert matrices}
\end{mandesc}
%-- Calling sequence section
\begin{calling_sequence}
\begin{verbatim}
  A=testm(name,n);
  A=testmatrix(name,n);
\end{verbatim}
\end{calling_sequence}
%-- Parameters
\begin{parameters}
  \begin{varlist}
    \vname{name} : a character string chosen among
     "magic", "franck", "franck^-1", "hilbert", "hilbert^-1". 
    \vname{n} : an integer giving matrix size
  \end{varlist}
\end{parameters}
\begin{mandescription}
  according to the parameter \verb+name+ returns a \verb+(n,n)+ 
  matrix which can be a Magic square, a Franck matrix or its 
  inverse, an Hilbert matrix \verb+A(i,j)=1/(i+j-1)+ or its inverse.
\end{mandescription}

\begin{examples}
\paragraph{Franck}
\begin{mintednsp}{nsp}
  n=6;
  A=testm('franck',n);
  Ai=testm('franck^-1',n);
  norm(A*Ai - eye(n,n))
\end{mintednsp}

\paragraph{Hilbert}
\begin{mintednsp}{nsp}
  n=6;
  A=testm('hilbert',n);
  Ai=testm('hilbert^-1',n);
  norm(A*Ai - eye(n,n))

  Ah=hankel( 1 ./((1:n)+1-1), 1./(n + (1:n)-1))
  Ah.equal[A]
\end{mintednsp}

\paragraph{Magic} 
\begin{mintednsp}{nsp}
  n=6;
  A=testm('magic',n);
  t1=sort(A,'g','i') == (1:n^2)
  Ar = sum(A,'r'); Ac = sum(A,'c')';
  t2= Ar.equal[Ac] 
  t3=and(sum(A,'r') == Ar(1) )
\end{mintednsp}
\end{examples}

\begin{manseealso}
  \manlink{toeplitz}{toeplitz}
\end{manseealso}
\begin{authors}
  Jean-Philippe Chancelier. The code for the magic matrix generation 
  if from Shin Kwon Young (\verb+http://user.chollian.net/~brainstm/MagicSquare.htm+).
\end{authors}

