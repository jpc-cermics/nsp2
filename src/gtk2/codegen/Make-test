SHELL = /bin/sh

SCIDIR=../../..
SCIDIR1=..\..\..

LIBRARY = nsp-cla.a 

OBJSC = classa.o 

OBJSF=

include ../../../Makefile.incl

CFLAGS = $(CC_OPTIONS) 
FFLAGS = $(FC_OPTIONS)

include ../../Make.lib

all:: Makefile.mak

Makefile.mak	: Makefile
	$(SCIDIR)/util/Mak2VCMak Makefile

%.X : %.c 
	protoize -k -c -I../include $*.c 
	egrep -v "/usr/|nsp/" $*.c.X | grep -v "static " | sed -e 's+/\*[^/]*/++g' -e "s/ extern/extern/" > $*.X 
	rm -f $*.c.X

.SUFFIXES: .defs .c 
srcdir=./

# on peut rajouter des --register atk-types.defs 
# on peut rajouter --prefix py$* 

PYTHON=python 

all:: mine.c container.c classa.c

.defs.c:
	($(PYTHON) ../codegen/codegen.py \
	    --override $*.override \
	    --register ../pango-types.defs \
	    --register ../atk-types.defs \
	    --register ../gtk/gdk-types.defs \
	    --register ../gtk/gtk-types.defs \
	    --prefix theprefix$* $*.defs) > gen-$*.c \
	&& cp gen-$*.c $*.c \
	&& rm -f gen-$*.c


